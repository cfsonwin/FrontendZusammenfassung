<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/template.css">
    <link rel="stylesheet" href="../src/fa/css/all.css">
    <script src="../js/template.js"></script>
    <script src="../js/function.js"></script>
    <style>
        .ex {

            display: flex;
        }

        .square {
            width: 40px;
            height: 40px;
            position: absolute;
        }
    </style>
    
    <title>0811 DOM 练习</title>
</head>

<body>
    <header class="top-bar w">
        <div class="dropdown">
            <div></div>
            <div></div>
            <div></div>
        </div>
        <div class="brand">
            <div class="brand-cube">好好学习</div>
            <div class="brand-cube">找到工作</div>
            <div class="brand-cube">好搞对象</div>
            <div class="brand-cube">天天向上</div>
        </div>
        <div class="title">
        </div>

        <button class="selector"><i class="fa-solid fa-caret-down"></i></button>


    </header>

    <div class="wapper w">
        <nav class="side-nav">
            <div class="side-nav-title">Topics</div>
            <div class="topics" id="JS">
            </div>
        </nav>
        <div class="main-body">
            <h1>0807 Node 事件 查询</h1>
            <a class="backHomepage" href="./index.html">
                <i class="fa-solid fa-caret-left"></i>
                Back Homepage
            </a>
            <div class="block">
                <ul class="l-1">
                    <li>
                        <h4>拖拽小方块儿</h4>
                        <div id="ex1" class="ex">
                            <div id="square1" class="square"> </div>
                            <div id="square2" class="square"> </div>
                        </div>
                        <p>注意问题：</p>
                        <ol>
                            <li>主要用到.onmousedown .onmousemove .onmouseup三个函数</li>
                            <li>如果不希望浏览器默认拖拽搜索功能开启, 可以在onmousedown函数中添加return false; </li>
                        </ol>
                    </li>
                    <li>
                        <h4>鼠标滚轮改变小方块儿的高</h4>
                        <div id="ex2" class="ex">
                            <div id="square2_1" class="square"> </div>
                        </div>
                        <p>注意问题：</p>
                        <ol>
                            <li>firefox没有.onmousewheel而是DOMMouseScroll, 需要通过.addEventListener()绑定。</li>
                            <li>event.whellDelta通过正负判断滚轮方向, 火狐中使用event.detail, 且此时负值向上</li>
                            <li>同样可以return false; 但使用.addEventListner()添加的不能取消。需要使用event.preventDefault();</li>
                        </ol>
                    </li>
                    <li>
                        <h4>键盘事件</h4>
                        <input style="margin-left: 15px" type="text" /> [不能输入数字]
                        <div id="ex3" class="ex">
                            <div id="square3_1" class="square"> </div>
                        </div>
                        <p>注意问题：</p>
                        <ol>
                            <li>onkeyup和onkeydown</li>
                            <li>不能绑定div, 只能绑定能获取焦点的对象或者document</li>
                            <li>一直按住不松手, onkeydown会一直触发, 第一二次间隔稍微长一点防止误操作</li>
                            <li>event提供keyCode-&gt;一个值 【altKey ctrlKey shiftKey】-&gt;回布尔值</li>
                        </ol>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        document.ondblclick = function () {
            var divs = document.getElementsByClassName("ex");
            for (var di = 0; di < divs.length; di++) {
                var _div = divs[di];
                if (_div.ondblclick != null) {
                    _div.style.outlineColor = "grey";
                    document.onkeydown = null;
                }
            }
        }
        var square1 = document.getElementById("square1");
        var square2 = document.getElementById("square2");
        var ex1 = document.getElementById("ex1");
        var square2_1 = document.getElementById("square2_1");
        var ex2 = document.getElementById("ex2");
        var square3_1 = document.getElementById("square3_1");
        var input_1 = document.getElementsByTagName("input")[0];
        var ex3 = document.getElementById("ex3");
        ranPosition(square1, ex1);
        ranPosition(square2, ex1);
        ranPosition(square2_1, ex2);
        ranPosition(square3_1, ex3);
        dragableObj(square1, ex1);
        dragableObj(square2, ex1);
        objScaleByWheel(square2_1, ex2);
        numberBlock(input_1);
        moveWithKeyboard(square3_1, ex3)
    </script>
</body>

</html>